(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{151:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var n,c,r,s=a(0),i=a.n(s),o=a(30),l=a.n(o),d=(a(151),a(31)),j=a(181),u=a(182),b=a(11),O=a(2),h=a(18),x=Object(h.c)({name:"alertSlice",initialState:{text:"",show:!1,vatiant:"success"},reducers:{alertSliceHide:function(e){return Object(O.a)(Object(O.a)({},e),{},{text:"",show:!1})},alertSliceSet:function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{text:a.text,show:!0,variant:a.variant})}}}),m=x.actions,p=m.alertSliceHide,f=m.alertSliceSet,g=x.reducer,v=a(1),y=function(){var e=Object(b.c)((function(e){return e.alertState})),t=e.show,a=e.text,n=e.variant,c=Object(b.b)();return Object(v.jsx)(j.a,{fluid:!0,className:"position-fixed top-0 left-0 right-0 p-1 m-0",style:{zIndex:1080},children:Object(v.jsx)(u.a,{show:t,variant:n,onClose:function(){return c(p())},dismissible:!0,children:a})})},w=a(194),N=a(135),S=Object(h.c)({name:"authSlice",initialState:{id:null,name:""},reducers:{authSliceLogin:function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{id:a._id,name:a.name})},authSliceLogout:function(e){return Object(O.a)(Object(O.a)({},e),{},{id:null})}}}),k=S.actions,C=k.authSliceLogin,P=k.authSliceLogout,E=S.reducer,F=function(){var e=Object(b.b)(),t="drobot-shop-admin",a=Object(s.useCallback)((function(a){var n=a._id,c=a.name,r=a.role;e(C({_id:n,name:c,role:r})),localStorage.setItem(t,JSON.stringify({_id:n,name:c,role:r}))}),[e]),n=Object(s.useCallback)((function(){e(P()),localStorage.removeItem(t)}),[e]);return Object(s.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem(t)),n=e._id,c=e.name,r=e.role;n&&a({_id:n,name:c,role:r})}catch(s){}}),[a]),{login:a,logout:n}},I=function(){var e=Object(b.c)((function(e){return e.authState})),t=e.id,a=e.name,n=F().logout;return t?Object(v.jsxs)(w.a,{bg:"light",expand:"lg",className:"px-1",children:[Object(v.jsx)("span",{className:"text-secondary me-3",children:a}),Object(v.jsx)(d.b,{to:"/admin/main",className:"mx-3",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(v.jsx)(N.a,{variant:"link",className:"ms-auto",onClick:n,children:"\u0412\u044b\u0445\u043e\u0434"})]}):null},R=a(19),A=a(4),L=a(10),T=a.n(L),_=a(15),B=a(6),z=a(195),G=a(183),H=function(){var e=Object(b.b)();return{successAlert:Object(s.useCallback)((function(t){e(f({text:t,variant:"success"}))}),[e]),errorAlert:Object(s.useCallback)((function(t){e(f({text:t,variant:"danger"}))}),[e])}},J=function(){var e=Object(s.useState)(null),t=Object(B.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!1),r=Object(B.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)(0),d=Object(B.a)(l,2),j=d[0],u=d[1],O=H().errorAlert,h=Object(b.c)((function(e){return e.authState})).id,x=Object(s.useCallback)(function(){var e=Object(_.a)(T.a.mark((function e(t){var a,c,r,s,i,l,d=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>1&&void 0!==d[1]?d[1]:"GET",c=d.length>2&&void 0!==d[2]?d[2]:null,r=d.length>3&&void 0!==d[3]?d[3]:{},o(!0),r["Content-Type"]="application/json",r.Authorization="Base ".concat(h),c&&(c=JSON.stringify(c)),e.prev=7,e.next=10,fetch(t,{method:a,body:c,headers:r});case 10:return s=e.sent,e.next=13,s.text();case 13:i=e.sent,e.prev=14,JSON.parse(i),e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(14),new Error("INVALID SERVER RESPONSE");case 21:if(l=JSON.parse(i),s.ok){e.next=24;break}throw new Error(l.message||"SERVER ERROR");case 24:return o(!1),e.abrupt("return",l);case 28:throw e.prev=28,e.t1=e.catch(7),o(!1),n(e.t1.message),e.t1;case 33:case"end":return e.stop()}}),e,null,[[7,28],[14,18]])})));return function(t){return e.apply(this,arguments)}}(),[h]),m=Object(s.useCallback)(function(){var e=Object(_.a)(T.a.mark((function e(t,a,c){var r,s,i,l,d,j,b,O,x,m,p,f,g,v,y,w,N,S=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=S.length>3&&void 0!==S[3]?S[3]:{},s=new FormData,i=0,l=Object.entries(a);i<l.length;i++)d=Object(B.a)(l[i],2),j=d[0],b=d[1],s.append(j,b);for(O in c)x=Object(B.a)(Object.entries(c[O])[0],2),m=x[0],p=x[1],s.append(m,p);for((f=new XMLHttpRequest).open("POST",t),r.Authorization="Base ".concat(h),g=0,v=Object.entries(r);g<v.length;g++)y=Object(B.a)(v[g],2),w=y[0],N=y[1],f.setRequestHeader(w,N);return e.prev=8,e.next=11,new Promise((function(e,t){u(0),o(!0),f.send(s),f.upload.onprogress=function(e){u(parseInt(100*e.loaded/e.total))},f.onreadystatechange=function(){if(4===parseInt(f.readyState)){try{JSON.parse(f.response)}catch(n){t({message:"INVALID SERVER RESPONSE"})}var a=JSON.parse(f.response);parseInt(f.status)<300&&(u(0),o(!1),e(a)),t(a)}}}));case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(8),u(0),o(!1),n(e.t0.message),e.t0;case 20:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t,a,n){return e.apply(this,arguments)}}(),[h]),p=Object(s.useCallback)(function(){var e=Object(_.a)(T.a.mark((function e(t){var a,c,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),(a={}).Authorization="Base ".concat(h),e.prev=3,e.next=6,fetch(t,{method:"GET",body:null,headers:a});case 6:return c=e.sent,e.next=9,c.blob();case 9:if(r=e.sent,c.ok){e.next=12;break}throw new Error(r.message||"SERVER ERROR");case 12:return o(!1),e.abrupt("return",r);case 16:throw e.prev=16,e.t0=e.catch(3),o(!1),n(e.t0.message),e.t0;case 21:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),[h]),f=Object(s.useCallback)((function(){return n(null)}),[]);return Object(s.useEffect)((function(){a&&(O(a),f())}),[a,f,O]),{request:x,sendFormData:m,getFile:p,loading:i,progress:j,error:a,clearError:f}},K=function(){var e=Object(s.useState)({login:"",pass:""}),t=Object(B.a)(e,2),a=t[0],n=t[1],c=J(),r=c.request,i=c.loading,o=F().login,l=function(){var e=Object(_.a)(T.a.mark((function e(t){var n,c,s,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,r("/api/auth/login","POST",a);case 4:n=e.sent,c=n._id,s=n.name,i=n.role,o({_id:c,name:s,role:i}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(j.a,{className:"min-vh-100 d-flex",children:Object(v.jsxs)(z.a,{className:"m-auto col-12 col-md-3",onSubmit:l,children:[Object(v.jsxs)(z.a.Group,{className:"mb-2",children:[Object(v.jsx)(z.a.Label,{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(v.jsx)(z.a.Control,{type:"text",name:"login",value:a.login,onChange:function(e){return n((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(A.a)({},e.target.name,e.target.value))}))}})]}),Object(v.jsxs)(z.a.Group,{className:"mb-3",children:[Object(v.jsx)(z.a.Label,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(v.jsx)(z.a.Control,{type:"text",name:"pass",value:a.pass,onChange:function(e){return n((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(A.a)({},e.target.name,e.target.value))}))}})]}),Object(v.jsx)(N.a,{variant:"primary",type:"submit",disabled:i,children:i?Object(v.jsx)(G.a,{animation:"border",variant:"primary",size:"sm"}):"OK"})]})})},V=a(184),q=a(185),D=a(89),Y=function(){return Object(v.jsx)(j.a,{fluid:!0,className:"position-fixed top-0 left-0 bottom-0 m-0 d-flex",style:{zIndex:1060,background:"rgba(255, 255, 255, 0.8)"},children:Object(v.jsx)(G.a,{animation:"border",variant:"secondary",className:"m-auto"})})},M=function(){var e=Object(s.useState)(),t=Object(B.a)(e,2),a=t[0],n=t[1],c=J(),r=c.request,i=c.loading,o=H().successAlert,l=Object(s.useCallback)(Object(_.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r("/api/users/get-all");case 3:t=e.sent,n(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[r]),u=function(){var e=Object(_.a)(T.a.mark((function e(t){var a,n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.getAttribute("data-id"),e.prev=1,e.next=4,r("/api/users/remove","POST",{id:a});case 4:n=e.sent,c=n.message,o(c),l(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)(l,[l]),Object(v.jsxs)(j.a,{className:"py-4",children:[i&&Object(v.jsx)(Y,{}),Object(v.jsx)("h3",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),!(null===a||void 0===a?void 0:a.length)&&Object(v.jsx)("p",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u0443\u0441\u0442"}),(null===a||void 0===a?void 0:a.length)>0&&Object(v.jsxs)(V.a,{striped:!0,bordered:!0,hover:!0,children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"#"}),Object(v.jsx)("th",{children:"\u0418\u043c\u044f"}),Object(v.jsx)("th",{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(v.jsx)("th",{children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(v.jsx)("th",{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}),Object(v.jsx)("tbody",{children:a.map((function(e){var t=e._id,a=e.avatar,n=e.name,c=e.login;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:a&&""!==a&&Object(v.jsx)("img",{alt:"avatar",src:a,width:"40"})}),Object(v.jsx)("td",{children:n}),Object(v.jsx)("td",{children:c}),Object(v.jsx)("td",{children:Object(v.jsx)(d.b,{className:"btn btn-primary",to:"/admin/users/user/".concat(t),children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}),Object(v.jsx)("td",{children:Object(v.jsx)(N.a,{variant:"link",className:"text-danger",onClick:u,"data-id":t,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]},t)}))})]}),Object(v.jsx)(q.a,{className:"mt-3",children:Object(v.jsx)(D.a,{sm:12,md:4,children:Object(v.jsx)(d.b,{to:"/admin/users/user",className:"btn btn-primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})})})]})},U=a(193),W=a(190),X=function(){var e=Object(_.a)(T.a.mark((function e(t){var a,n,c,r,s,i,o=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"GET",n=o.length>2&&void 0!==o[2]?o[2]:null,(c=o.length>3&&void 0!==o[3]?o[3]:{})["Content-Type"]="application/json",n&&(n=JSON.stringify(n)),e.prev=5,e.next=8,fetch(t,{method:a,body:n,headers:c});case 8:return r=e.sent,e.next=11,r.text();case 11:s=e.sent,e.prev=12,JSON.parse(s),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(12),new Error("INVALID SERVER RESPONSE");case 19:if(i=JSON.parse(s),r.ok){e.next=22;break}throw new Error(i.message||"SERVER ERROR");case 22:return e.abrupt("return",i);case 25:throw e.prev=25,e.t1=e.catch(5),e.t1;case 28:case"end":return e.stop()}}),e,null,[[5,25],[12,16]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(_.a)(T.a.mark((function e(t,a,n){var c,r,s,i,o,l,d,j,u,b,O,h,x,m,p,f,g,v=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=v.length>3&&void 0!==v[3]?v[3]:{},r=new FormData,s=0,i=Object.entries(a);s<i.length;s++)o=Object(B.a)(i[s],2),l=o[0],d=o[1],r.append(l,d);for(j in n)u=Object(B.a)(Object.entries(n[j])[0],2),b=u[0],O=u[1],r.append(b,O);for((h=new XMLHttpRequest).open("POST",t),x=0,m=Object.entries(c);x<m.length;x++)p=Object(B.a)(m[x],2),f=p[0],g=p[1],h.setRequestHeader(f,g);return e.prev=7,e.next=10,new Promise((function(e,t){h.send(r),h.onreadystatechange=function(){if(4===parseInt(h.readyState)){try{JSON.parse(h.response)}catch(n){t({message:"INVALID SERVER RESPONSE"})}var a=JSON.parse(h.response);parseInt(h.status)<300&&e(a),t(a)}}}));case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(7),console.log(e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Q=Object(h.b)("categories/get-all",function(){var e=Object(_.a)(T.a.mark((function e(t,a){var n,c,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a.getState(),c=n.authState,e.next=4,X("/api/categories/get-all","GET",null,{Authorization:"Base ".concat(c.id)});case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.dispatch)(f({variant:"danger",text:e.t0.message})),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),Z=Object(h.b)("categories/update-category",function(){var e=Object(_.a)(T.a.mark((function e(t,a){var n,c,r,s,i,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=a.getState(),c=n.authState,r=n.categoriesState,s={id:r.selectedCategory._id,description:r.form.description},e.t0=r.form.imgSrc,!e.t0){e.next=8;break}return e.next=7,fetch(r.form.imgSrc).then((function(e){return e.blob()}));case 7:e.t0=e.sent;case 8:return i=e.t0,e.next=11,$("/api/categories/update",s,[{cover:i}],{Authorization:"Base ".concat(c.id)});case 11:return o=e.sent,e.abrupt("return",o);case 15:throw e.prev=15,e.t1=e.catch(0),(0,a.dispatch)(f({variant:"danger",text:e.t1.message})),e.t1;case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}()),ee=Object(h.b)("categories/sync",function(){var e=Object(_.a)(T.a.mark((function e(t,a){var n,c,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a.getState(),c=n.authState,e.next=4,X("/api/categories/moy-sklad-sync","POST",null,{Authorization:"Base ".concat(c.id)});case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.dispatch)(f({variant:"danger",text:e.t0.message})),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),te={categories:{_id:"0"},form:{name:"",description:"",imgSrc:null},list:[],loading:!1,photo:null,selectedCategory:null},ae=function e(t,a){if(t._id===a)return t;for(var n in t.entries){var c=e(t.entries[n],a);if(c)return c}return null},ne=Object(h.c)({name:"categorySlice",initialState:te,reducers:{categoryClickHandler:function(e,t){var a=t.payload,n=ae(e.categories,a),c=null!==n&&void 0!==n?n:{},r=c.name,s=c.description,i=c.imgSrc;return Object(O.a)(Object(O.a)({},e),{},{selectedCategory:n,form:{name:r,description:null!==s&&void 0!==s?s:"",imgSrc:i}})},resetCategoriesState:function(){return te},setForm:function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{form:Object(O.a)(Object(O.a)({},e.form),{},Object(A.a)({},a.key,a.value))})},setPhoto:function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{form:Object(O.a)(Object(O.a)({},e.form),{},{imgSrc:a?URL.createObjectURL(a):null})})}},extraReducers:(n={},Object(A.a)(n,Q.pending,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!0})})),Object(A.a)(n,Q.fulfilled,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{loading:!1,categories:Object(O.a)(Object(O.a)({},e.categories),{},{entries:a})})})),Object(A.a)(n,Q.rejected,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!1})})),Object(A.a)(n,Z.pending,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!0})})),Object(A.a)(n,Z.fulfilled,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{loading:!1,categories:Object(O.a)(Object(O.a)({},e.categories),{},{entries:a})})})),Object(A.a)(n,Z.rejected,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!1,categories:{_id:"0"}})})),Object(A.a)(n,ee.pending,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!0})})),Object(A.a)(n,ee.fulfilled,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{loading:!1,categories:Object(O.a)(Object(O.a)({},e.categories),{},{entries:a})})})),Object(A.a)(n,ee.rejected,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!1})})),n)}),ce=ne.actions,re=ce.categoryClickHandler,se=ce.resetCategoriesState,ie=(ce.setCategories,ce.setForm),oe=ce.setPhoto,le=ne.reducer,de=a(201),je=function(){return Object(v.jsxs)("ul",{className:"w-100",children:[Object(v.jsx)(de.a,{as:"li",animation:"glow",xs:12,children:Object(v.jsx)(de.a,{xs:12,className:"rounded h-100"})}),Object(v.jsx)(de.a,{as:"li",animation:"glow",xs:12,children:Object(v.jsx)(de.a,{xs:12,className:"rounded h-100"})}),Object(v.jsxs)(de.a,{as:"li",animation:"glow",xs:12,children:[Object(v.jsx)(de.a,{xs:12,className:"rounded h-100"}),Object(v.jsxs)("ul",{className:"w-100",children:[Object(v.jsx)(de.a,{as:"li",animation:"glow",xs:12,children:Object(v.jsx)(de.a,{xs:12,className:"rounded h-100"})}),Object(v.jsx)(de.a,{as:"li",animation:"glow",xs:12,children:Object(v.jsx)(de.a,{xs:12,className:"rounded h-100"})})]})]}),Object(v.jsx)(de.a,{as:"li",animation:"glow",xs:12,children:Object(v.jsx)(de.a,{xs:12,className:"rounded h-100"})})]})},ue=a(205),be=a(198),Oe=a(92),he=a.n(Oe),xe=a(93),me=a.n(xe),pe=function(){var e=Object(b.c)((function(e){return e.categoriesState})).categories,t=Object(b.b)();return Object(v.jsx)(ue.a,{"aria-label":"rich object",defaultCollapseIcon:Object(v.jsx)(he.a,{}),defaultExpanded:["0"],defaultExpandIcon:Object(v.jsx)(me.a,{}),onNodeSelect:function(e,a){t(re(a))},sx:{height:"100%",flexGrow:1,maxWidth:"100%",overflowY:"auto"},children:function e(t){return Object(v.jsx)(be.a,{nodeId:t._id,label:t.name,children:Array.isArray(t.entries)?t.entries.map((function(t){return e(t)})):null},t._id)}(e)})},fe=function(){var e=Object(b.c)((function(e){return e.categoriesState})).loading,t=Object(b.b)();return Object(s.useEffect)((function(){t(Q())}),[t]),e?Object(v.jsx)(je,{}):Object(v.jsx)(pe,{})},ge=a(199),ve=a(203),ye=a(189),we=a(87),Ne=a(101),Se=a.n(Ne),ke=function(){var e,t=Object(b.c)((function(e){return e.categoriesState})),a=t.loading,n=t.selectedCategory,c=t.form,r=Object(b.b)();return a?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(de.a,{as:"p",animation:"glow",xs:12,children:Object(v.jsx)(de.a,{xs:12,className:"rounded h-100 mx-auto"})}),Object(v.jsx)(de.a,{animation:"glow",xs:12,children:Object(v.jsx)(de.a.Button,{xs:12,className:"mb-2"})}),Object(v.jsx)(de.a,{animation:"glow",xs:12,children:Object(v.jsx)(de.a.Button,{xs:12,className:"mb-2"})}),Object(v.jsx)(de.a,{animation:"glow",xs:12,className:"w-100 mt-auto",children:Object(v.jsx)(de.a.Button,{variant:"warning",xs:12,className:"mb-2"})})]}):Object(v.jsxs)("div",{className:"d-flex flex-column h-100",children:[Object(v.jsx)("p",{className:"text-center mb-3",children:null!==(e=null===n||void 0===n?void 0:n.name)&&void 0!==e?e:"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"}),n&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(ge.a,{defaultActiveKey:"wrap",children:[Object(v.jsx)(ve.a,{eventKey:"wrap",title:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430",children:Object(v.jsxs)(q.a,{className:"border border-top-0 rounded-bottom p-3 gx-2 m-0 align-items-stretch",children:[Object(v.jsx)(D.a,{sm:12,md:8,children:Object(v.jsxs)(z.a,{children:[Object(v.jsxs)(z.a.Group,{className:"mb-3",children:[Object(v.jsx)(z.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(v.jsx)(z.a.Control,{type:"text",readOnly:!0,placeholder:c.name})]}),Object(v.jsxs)(z.a.Group,{children:[Object(v.jsx)(z.a.Label,{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(v.jsx)(z.a.Control,{as:"textarea",rows:3,value:c.description,name:"description",onChange:function(e){r(ie({key:e.target.name,value:e.target.value}))}})]})]})}),Object(v.jsx)(D.a,{sm:12,md:4,className:"d-flex",children:c.imgSrc?Object(v.jsxs)("div",{className:"position-relative",children:[Object(v.jsx)(ye.a,{src:c.imgSrc,fluid:!0}),Object(v.jsx)(we.a,{className:"position-absolute top-0 end-0 bg-light m-1",onClick:function(){r(oe())}})]}):Object(v.jsxs)("label",{className:"m-auto w-100 d-flex",children:[Object(v.jsx)("input",{type:"file",style:{width:0,height:0,padding:0,margin:0},onInput:function(e){r(oe(e.target.files[0]))},accept:"image/*"}),Object(v.jsx)(Se.a,{className:"m-auto text-secondary",sx:{fontSize:80}})]})})]})}),Object(v.jsx)(ve.a,{eventKey:"fields",title:"\u041f\u043e\u043b\u044f"})]}),Object(v.jsx)("div",{className:"mt-auto ms-auto",children:Object(v.jsx)(N.a,{variant:"primary",onClick:function(){r(Z())},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})},Ce=function(){var e=Object(b.c)((function(e){return e.categoriesState})).loading,t=Object(b.b)();return Object(s.useEffect)((function(){return function(){return t(se())}}),[t]),Object(v.jsxs)(j.a,{className:"py-4",children:[Object(v.jsxs)(q.a,{className:"mb-3",children:[Object(v.jsx)(D.a,{children:Object(v.jsx)("span",{className:"fs-3",children:"\u0420\u0430\u0437\u0434\u0435\u043b\u044b \u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"})}),Object(v.jsx)(D.a,{className:"d-flex justify-content-end",children:Object(v.jsx)(U.a,{placement:"bottom",delay:{show:200,hide:200},overlay:Object(v.jsx)(W.a,{children:'\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0438\u0437 \u041f\u0422\u041a "\u041c\u043e\u0439 \u0441\u043a\u043b\u0430\u0434". \u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439.'}),children:Object(v.jsx)(N.a,{variant:"success",onClick:function(){t(ee())},disabled:e,children:'\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441 "\u041c\u043e\u0439 \u0441\u043a\u043b\u0430\u0434"'})})})]}),Object(v.jsxs)(q.a,{className:"border px-2 py-4 bg-light rounded align-items-stretch",children:[Object(v.jsx)(D.a,{xs:12,md:5,children:Object(v.jsx)(j.a,{style:{height:"70vh"},className:"bg-white rounded border overflow-scroll py-2",children:Object(v.jsx)(fe,{})})}),Object(v.jsx)(D.a,{xs:12,md:7,children:Object(v.jsx)(j.a,{className:"bg-white rounded border py-2 h-100 pe-2",style:{overflowY:"scroll"},children:Object(v.jsx)(ke,{})})})]})]})},Pe="primary",Ee="secondary",Fe="success",Ie=Object(h.b)("goods/get-all",function(){var e=Object(_.a)(T.a.mark((function e(t,a){var n,c,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a.getState(),c=n.authState,e.next=4,X("/api/goods/get-all","GET",null,{Authorization:"Base ".concat(c.id)});case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.dispatch)(f({variant:"danger",text:e.t0.message})),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),Re=Object(h.b)("goods/update-good",function(){var e=Object(_.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(T.a.mark((function e(){var t,n,c,r,s,i,o,l;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.getState(),n=t.authState,c=t.goodsState,r={id:c.selectedProduct._id,deleted:JSON.stringify(c.deletedPhotos),description:c.form.description,photos:JSON.stringify(c.photos)},s=[],i=T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,fetch(c.addedPhotos[t]).then(function(){var e=Object(_.a)(T.a.mark((function e(a){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.blob();case 2:return n=e.sent,r=new File([n],c.addedPhotos[t],{type:n.type}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.t1=e.sent,e.t2={img:e.t1},e.t0.push.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)})),e.t0=T.a.keys(c.addedPhotos);case 5:if((e.t1=e.t0()).done){e.next=10;break}return o=e.t1.value,e.delegateYield(i(o),"t2",8);case 8:e.next=5;break;case 10:return e.next=12,$("/api/goods/update",r,s,{Authorization:"Base ".concat(n.id)});case 12:return l=e.sent,e.abrupt("return",{v:l});case 14:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:if("object"!==typeof(n=e.t0)){e.next=5;break}return e.abrupt("return",n.v);case 5:e.next=13;break;case 7:throw e.prev=7,e.t1=e.catch(0),console.log(e.t1),(0,a.dispatch)(f({variant:"danger",text:e.t1.message})),e.t1;case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()),Ae=Object(h.b)("goods/sync",function(){var e=Object(_.a)(T.a.mark((function e(t,a){var n,c,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a.getState(),c=n.authState,e.next=4,X("/api/goods/moy-sklad-sync","POST",null,{Authorization:"Base ".concat(c.id)});case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.dispatch)(f({variant:"danger",text:e.t0.message})),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),Le=Object(h.b)("/goods/removePhoto",function(){var e=Object(_.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,400)}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Te=Object(h.b)("/goods/recoverPhoto",function(){var e=Object(_.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,400)}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_e=function e(t,a){var n;if((null===(n=t._id)||void 0===n?void 0:n.toString())===(null===a||void 0===a?void 0:a.toString()))return t;for(var c in t.entries){var r=e(t.entries[c],a);if(r)return r}return null},Be={activeTab:"wrap",addedPhotos:[],deletedPhotos:[],form:{name:"",description:""},goods:{_id:"0"},loadedPhotos:[],loading:!1,photos:[],selectedProduct:null},ze=Object(h.c)({name:"goodsSlice",initialState:Be,reducers:{addPhotos:function(e,t){var a=t.payload,n=a.map((function(e){return{variant:Fe,src:e,added:!0}}));return Object(O.a)(Object(O.a)({},e),{},{addedPhotos:e.addedPhotos.concat(a),photos:e.photos.concat(n)})},moveImg:function(e,t){var a=t.payload,n=a.hoverIndex,c=a.moveIndex,r=e.photos.map((function(e){return e})),s=r.splice(c,1);return r.splice(n,0,s[0]),Object(O.a)(Object(O.a)({},e),{},{photos:r})},productClickHandler:function(e,t){var a=t.payload,n=_e(e.goods,a),c=n.name,r=n.description,s=n.images;return n.isGood?Object(O.a)(Object(O.a)({},e),{},{selectedProduct:n,form:Object(O.a)(Object(O.a)({},e.form),{},{name:c,description:null!==r&&void 0!==r?r:""}),loadedPhotos:s,photos:s.map((function(e){return{variant:Pe,src:e}})),deletedPhotos:[],activeTab:Be.activeTab}):Object(O.a)(Object(O.a)({},e),{},{selectedProduct:null,form:Be.form,loadedPhotos:[],photos:[],activeTab:Be.activeTab})},setForm:function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{form:Object(O.a)(Object(O.a)({},e.form),{},Object(A.a)({},a.name,a.value))})},tabChange:function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{activeTab:a})},resetGoods:function(){return Be}},extraReducers:(c={},Object(A.a)(c,Ie.pending,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!0})})),Object(A.a)(c,Ie.fulfilled,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{goods:Object(O.a)(Object(O.a)({},e.goods),{},{entries:a}),loading:!1})})),Object(A.a)(c,Ie.rejected,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!1})})),Object(A.a)(c,Ae.pending,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!0})})),Object(A.a)(c,Ae.fulfilled,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{goods:Object(O.a)(Object(O.a)({},e.goods),{},{entries:a}),loading:!1})})),Object(A.a)(c,Ae.rejected,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!1})})),Object(A.a)(c,Te.pending,(function(e,t){var a=t.meta;return Object(O.a)(Object(O.a)({},e),{},{photos:e.photos.map((function(e,t){return t===parseInt(a.arg.idx)?Object(O.a)(Object(O.a)({},e),{},{classList:"opacity-decrease"}):e}))})})),Object(A.a)(c,Te.fulfilled,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{deletedPhotos:e.deletedPhotos.filter((function(t){return t!==e.photos[a].src})),photos:e.photos.map((function(e,t){return parseInt(a)===t?Object(O.a)(Object(O.a)({},e),{},{variant:Pe,classList:null}):e}))})})),Object(A.a)(c,Le.pending,(function(e,t){var a=t.meta;return Object(O.a)(Object(O.a)({},e),{},{photos:e.photos.map((function(e,t){return t===parseInt(a.arg.idx)?Object(O.a)(Object(O.a)({},e),{},{classList:"opacity-decrease"}):e}))})})),Object(A.a)(c,Le.fulfilled,(function(e,t){var a=t.payload,n=a.idx;return"true"===a.loaded?Object(O.a)(Object(O.a)({},e),{},{deletedPhotos:e.deletedPhotos.concat([e.photos[parseInt(n)].src]),photos:e.photos.map((function(e,t){return parseInt(n)===t?Object(O.a)(Object(O.a)({},e),{},{variant:Ee,classList:null}):e}))}):Object(O.a)(Object(O.a)({},e),{},{addedPhotos:e.addedPhotos.filter((function(t){return t!==e.photos[parseInt(n)].src})),photos:e.photos.filter((function(e,t){return parseInt(n)!==t}))})})),Object(A.a)(c,Re.pending,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!0})})),Object(A.a)(c,Re.fulfilled,(function(e,t){var a=t.payload,n=e.selectedProduct._id,c=_e(Object(O.a)(Object(O.a)({},Be.goods),{},{entries:a}),n.toString()),r=c.name,s=c.description,i=c.images;return Object(O.a)(Object(O.a)({},e),{},{selectedProduct:c,goods:Object(O.a)(Object(O.a)({},Be.goods),{},{entries:a}),form:Object(O.a)(Object(O.a)({},e.form),{},{name:r,description:null!==s&&void 0!==s?s:""}),loadedPhotos:i,photos:i.map((function(e){return{variant:Pe,src:e}})),deletedPhotos:[],loading:!1})})),Object(A.a)(c,Re.rejected,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!1})})),c)}),Ge=ze.actions,He=Ge.addPhotos,Je=Ge.moveImg,Ke=Ge.productClickHandler,Ve=Ge.resetGoods,qe=Ge.setForm,De=(Ge.setPhotoState,Ge.tabChange),Ye=ze.reducer,Me=a(192),Ue=a(139),We=a(202),Xe=a(196),$e=a(197),Qe=function(e){var t=e.variant,a=e.src,n=e.index,c=e.classList,r=Object(b.b)(),i=Object(s.useRef)(null),o=Object(Xe.a)({accept:"card",hover:function(e){if(i.current){var t=e.index,a=n;t!==a&&(r(Je({moveIndex:t,hoverIndex:a})),e.index=a)}}}),l=Object(B.a)(o,2),d=(l[0],l[1]),j=Object($e.a)({type:"card",item:{index:n}}),u=Object(B.a)(j,2);u[0];return(0,u[1])(d(i)),Object(v.jsxs)(We.a,{bg:t,text:"white",className:"h-100 border-0 ".concat(c||""),ref:i,children:[t===Fe&&Object(v.jsx)(We.a.Header,{children:"\u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"}),t===Pe&&Object(v.jsx)(We.a.Header,{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e"}),t===Ee&&Object(v.jsx)(We.a.Header,{children:"\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u043e"}),Object(v.jsxs)(We.a.Body,{className:"position-relative d-flex product-image p-0 border-none",children:[Object(v.jsx)(ye.a,{src:a,fluid:!0,className:"rounded-bottom"}),t===Ee?Object(v.jsx)("button",{className:"btn position-absolute center bg-white p-0 m-2 px-1 opacity-0","data-index":n,onClick:function(e){r(Te(e.target.dataset.index))},children:Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-clockwise",viewBox:"0 0 16 16","data-index":n,children:[Object(v.jsx)("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"}),Object(v.jsx)("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"})]})}):Object(v.jsx)(we.a,{className:"position-absolute center bg-light m-2 opacity-0","data-index":n,onClick:function(e){r(Le({idx:e.target.dataset.index,loaded:e.target.dataset.loaded}))},"data-loaded":"primary"===t})]})]})},Ze=function(){var e=Object(b.c)((function(e){return e.goodsState})),t=e.loading,a=e.photos,n=Object(b.b)();return t?Object(v.jsx)(q.a,{md:3,className:"border border-top-0 rounded-bottom g-2 m-0 align-items-stretch",children:Object(v.jsx)(D.a,{children:Object(v.jsx)("div",{style:{minHeight:"10vh"},className:"rounded",children:Object(v.jsx)(de.a,{xs:12})})})}):Object(v.jsxs)(q.a,{md:3,className:"border border-top-0 rounded-bottom g-2 m-0 align-items-stretch p-2",children:[a.map((function(e,t){var a=e.variant,n=e.src,c=e.classList;return Object(v.jsx)(D.a,{children:Object(v.jsx)(Qe,{classList:c,variant:a,src:n,index:t})},"$_image_".concat(t))})),Object(v.jsx)(D.a,{children:Object(v.jsxs)(We.a,{className:"h-100",children:[Object(v.jsx)(We.a.Header,{children:Object(v.jsxs)("label",{className:"text-primary",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e...",!t&&Object(v.jsx)("input",{type:"file",style:{width:0,height:0,padding:0,margin:0},onInput:function(e){var t=Array.from(e.target.files).map((function(e){return URL.createObjectURL(e)}));n(He(t))},accept:"image/*",multiple:!0})]})}),Object(v.jsx)(We.a.Body,{className:"d-flex",children:Object(v.jsx)(Se.a,{className:"m-auto text-secondary",sx:{fontSize:80}})})]})})]})},et=function(){var e,t=Object(b.c)((function(e){return e.goodsState})),a=t.activeTab,n=t.form,c=t.loading,r=t.selectedProduct,s=Object(b.b)(),i=function(e){s(De(e))};return c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(de.a,{as:"p",animation:"glow",xs:12,children:Object(v.jsx)(de.a,{xs:12,className:"rounded h-100 mx-auto"})}),Object(v.jsx)(de.a,{animation:"glow",xs:12,children:Object(v.jsx)(de.a.Button,{xs:12,className:"mb-2"})}),Object(v.jsx)(de.a,{animation:"glow",xs:12,children:Object(v.jsx)(de.a.Button,{xs:12,className:"mb-2"})}),Object(v.jsx)(de.a,{animation:"glow",xs:12,className:"w-100 mt-auto",children:Object(v.jsx)(de.a.Button,{variant:"warning",xs:12,className:"mb-2"})})]}):Object(v.jsxs)("div",{className:"d-flex flex-column h-100",children:[Object(v.jsx)("p",{className:"text-center mb-3",children:null!==(e=null===r||void 0===r?void 0:r.name)&&void 0!==e?e:"\u0422\u043e\u0432\u0430\u0440 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"}),r&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(ge.a,{activeKey:a,onSelect:i,children:[Object(v.jsx)(ve.a,{eventKey:"wrap",title:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430",className:"mb-3",children:Object(v.jsx)(q.a,{className:"border border-top-0 rounded-bottom p-3 gx-2 m-0 align-items-stretch",children:Object(v.jsx)(D.a,{sm:12,children:Object(v.jsxs)(z.a,{children:[Object(v.jsxs)(z.a.Group,{className:"mb-3",children:[Object(v.jsx)(z.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(v.jsx)(z.a.Control,{type:"text",readOnly:!0,placeholder:n.name})]}),Object(v.jsxs)(z.a.Group,{children:[Object(v.jsx)(z.a.Label,{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(v.jsx)(z.a.Control,{as:"textarea",rows:3,value:n.description,name:"description",onChange:function(e){s(qe({name:e.target.name,value:e.target.value}))}})]})]})})})}),Object(v.jsx)(ve.a,{eventKey:"photos",title:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",className:"mb-3",onSelect:i,children:Object(v.jsx)(Me.a,{backend:Ue.a,children:Object(v.jsx)(Ze,{})})}),Object(v.jsx)(ve.a,{eventKey:"fields",title:"\u041f\u043e\u043b\u044f",className:"mb-3",onSelect:i})]}),Object(v.jsx)("div",{className:"mt-auto ms-auto",children:Object(v.jsx)(N.a,{variant:"primary",onClick:function(){s(Re())},disabled:!r||c,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})},tt=function(){var e=Object(b.c)((function(e){return e.goodsState})),t=e.goods,a=e.loading,n=Object(b.b)();return a?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(de.a,{as:"p",animation:"glow",xs:12,children:Object(v.jsx)(de.a,{xs:12,className:"rounded w-100 h-100"})}),Object(v.jsx)(de.a,{as:"p",animation:"glow",xs:12,children:Object(v.jsx)(de.a,{xs:12,className:"rounded w-100 h-100"})}),Object(v.jsx)(de.a,{as:"p",animation:"glow",xs:12,children:Object(v.jsx)(de.a,{xs:12,className:"rounded w-100 h-100"})}),Object(v.jsx)(de.a,{as:"p",animation:"glow",xs:12,children:Object(v.jsx)(de.a,{xs:12,className:"rounded w-100 h-100"})})]}):Object(v.jsx)(ue.a,{"aria-label":"rich object",defaultCollapseIcon:Object(v.jsx)(he.a,{}),defaultExpanded:["0"],defaultExpandIcon:Object(v.jsx)(me.a,{}),onNodeSelect:function(e,t){n(Ke(t))},sx:{height:"100%",flexGrow:1,maxWidth:"100%",overflowY:"auto"},children:function e(t){return Object(v.jsx)(be.a,{nodeId:t._id,label:t.name,children:Array.isArray(t.entries)?t.entries.map((function(t){return e(t)})):null},t._id)}(t)})},at=function(){var e=Object(b.c)((function(e){return e.goodsState})).loading,t=Object(b.b)();return Object(s.useEffect)((function(){return t(Ie()),function(){return t(Ve())}}),[t]),Object(v.jsxs)(j.a,{className:"py-4",children:[Object(v.jsxs)(q.a,{className:"mb-3",children:[Object(v.jsx)(D.a,{children:Object(v.jsx)("span",{className:"fs-3",children:"\u0422\u043e\u0432\u0430\u0440\u044b"})}),Object(v.jsx)(D.a,{className:"d-flex justify-content-end",children:Object(v.jsx)(U.a,{placement:"bottom",delay:{show:200,hide:200},overlay:Object(v.jsx)(W.a,{children:'\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0438\u0437 \u041f\u0422\u041a "\u041c\u043e\u0439 \u0441\u043a\u043b\u0430\u0434". \u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0438 \u0446\u0435\u043d\u044b \u0442\u043e\u0432\u0430\u0440\u043e\u0432.'}),children:Object(v.jsx)(N.a,{variant:"success",onClick:function(){t(Ae())},disabled:e,children:'\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441 "\u041c\u043e\u0439 \u0441\u043a\u043b\u0430\u0434"'})})})]}),Object(v.jsxs)(q.a,{className:"border px-2 py-4 bg-light rounded align-items-stretch",children:[Object(v.jsx)(D.a,{xs:12,md:5,children:Object(v.jsx)(j.a,{style:{height:"70vh"},className:"bg-white rounded border overflow-scroll py-2",children:Object(v.jsx)(tt,{})})}),Object(v.jsx)(D.a,{xs:12,md:7,children:Object(v.jsx)(j.a,{className:"bg-white rounded border py-2 h-100 pe-2",style:{overflowY:"scroll"},children:Object(v.jsx)(et,{})})})]})]})},nt=a(204),ct=function(){var e=Object(s.useState)({avatar:"",name:"",login:"",pass:""}),t=Object(B.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)([{name:"users",view:!1,edit:!1,title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"},{name:"categories",view:!1,edit:!1,title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"},{name:"goods",view:!1,edit:!1,title:"\u0422\u043e\u0432\u0430\u0440\u044b"}]),r=Object(B.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)(!1),u=Object(B.a)(l,2),b=u[0],h=u[1],x=J(),m=x.request,p=x.loading,f=H().successAlert,g=Object(R.g)(),y=Object(s.useCallback)(function(){var e=Object(_.a)(T.a.mark((function e(t){var a,c,r,s,i,l;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,m("/api/users/get-by-id","POST",{id:t});case 4:a=e.sent,c=a.user,r=a.rights,s=c.avatar,i=c.name,l=c.login,n((function(e){return Object(O.a)(Object(O.a)({},e),{},{avatar:s,name:i,login:l})})),o((function(e){return e.map((function(e){var t,a=null!==(t=r[e.name])&&void 0!==t?t:{view:!1,edit:!1},n=a.view,c=a.edit;return Object(O.a)(Object(O.a)({},e),{},{view:n,edit:c})}))})),h(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),h(!1);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),[m]),w=function(e){var t=e.target.getAttribute("data-name"),a=e.target.getAttribute("data-value"),n=e.target.checked;o((function(e){return e.map((function(e){return e.name===t?Object(O.a)(Object(O.a)({},e),{},Object(A.a)({},a,n)):e}))}))},S=function(){var e=Object(_.a)(T.a.mark((function e(){var t,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("/api/users/create","POST",{form:a,rights:i});case 3:t=e.sent,c=t.message,f(c),n({avatar:"",name:"",login:"",pass:""}),o([{name:"users",view:!1,edit:!1,title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"},{name:"categories",view:!1,edit:!1,title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"},{name:"goods",view:!1,edit:!1,title:"\u0422\u043e\u0432\u0430\u0440\u044b"}]),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(_.a)(T.a.mark((function e(t){var n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("/api/users/update","POST",{id:t,form:a,rights:i});case 3:n=e.sent,c=n.message,f(c),y(t),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){"id"in g&&y(g.id)}),[g,y]),Object(v.jsxs)(j.a,{className:"pt-4",children:[g.id?Object(v.jsx)("h3",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}):Object(v.jsx)("h3",{children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(v.jsxs)(q.a,{className:"my-3",children:[Object(v.jsx)(D.a,{sm:12,md:5,children:Object(v.jsxs)(z.a,{children:[Object(v.jsxs)(z.a.Group,{className:"mb-3",children:[Object(v.jsx)(z.a.Label,{children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),b?Object(v.jsx)(de.a,{as:"p",animation:"wave",children:Object(v.jsx)(de.a,{xs:12,className:"p-3 rounded",bg:"secondary"})}):Object(v.jsx)(z.a.Control,{type:"text",name:"name",value:a.name,onChange:function(e){return n((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(A.a)({},e.target.name,e.target.value))}))}})]}),Object(v.jsxs)(z.a.Group,{className:"mb-3",children:[Object(v.jsx)(z.a.Label,{children:"\u041b\u043e\u0433\u0438\u043d"}),b?Object(v.jsx)(de.a,{as:"p",animation:"wave",children:Object(v.jsx)(de.a,{xs:12,className:"p-3 rounded",bg:"secondary"})}):Object(v.jsx)(z.a.Control,{type:"text",name:"login",value:a.login,onChange:function(e){return n((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(A.a)({},e.target.name,e.target.value))}))}})]}),Object(v.jsxs)(z.a.Group,{className:"mb-3",children:[Object(v.jsx)(z.a.Label,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),b?Object(v.jsx)(de.a,{as:"p",animation:"wave",children:Object(v.jsx)(de.a,{xs:12,className:"p-3 rounded",bg:"secondary"})}):Object(v.jsx)(z.a.Control,{type:"text",name:"pass",value:a.pass,onChange:function(e){return n((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(A.a)({},e.target.name,e.target.value))}))}})]})]})}),Object(v.jsxs)(D.a,{sm:12,md:{span:5,offset:1},children:[Object(v.jsx)("p",{className:"mb-2",children:"\u041f\u0440\u0430\u0432\u0430"}),Object(v.jsx)(nt.a,{children:i.map((function(e){var t=e.name,a=e.title,n=e.view,c=e.edit;return Object(v.jsxs)(nt.a.Item,{children:[Object(v.jsx)("p",{className:"mb-1 fw-bold",children:a}),Object(v.jsx)(z.a,{children:b?Object(v.jsx)(de.a,{as:"p",animation:"wave",children:Object(v.jsx)(de.a,{xs:12,md:6,className:"p-3 rounded",bg:"secondary"})}):Object(v.jsxs)("div",{children:[Object(v.jsx)(z.a.Check,{inline:!0,type:"checkbox",label:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",checked:n,className:"me-4","data-name":t,"data-value":"view",onChange:w,disabled:c}),Object(v.jsx)(z.a.Check,{inline:!0,type:"checkbox",label:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435",checked:c,"data-name":t,"data-value":"edit",onChange:w,disabled:!n})]})})]},"key_".concat(t))}))})]})]}),Object(v.jsxs)(q.a,{children:[Object(v.jsx)(D.a,{children:b?Object(v.jsx)(de.a.Button,{variant:"primary",xs:2}):Object(v.jsx)(N.a,{variant:"primary",type:"button",onClick:p?null:function(){g.id?k(g.id):S()},children:p?Object(v.jsx)(G.a,{animation:"border",variant:"primary",size:"sm"}):"OK"})}),Object(v.jsx)(D.a,{children:Object(v.jsx)(d.b,{to:"/admin/users",children:"\u041d\u0430\u0437\u0430\u0434 \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})})]})]})},rt=function(){var e=Object(b.c)((function(e){return e.categoriesState})),t=e.selectedCategory,a=e.form,n=Object(b.b)();return Object(v.jsxs)(j.a,{className:"py-4",children:[Object(v.jsxs)("h3",{children:["\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430 \u0432 ",null===t||void 0===t?void 0:t.name]}),Object(v.jsxs)(ge.a,{defaultActiveKey:"props",children:[Object(v.jsx)(ve.a,{eventKey:"props",title:"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430",children:Object(v.jsxs)(q.a,{className:"border border-top-0 rounded-bottom p-3 m-0",children:[Object(v.jsx)(D.a,{xs:"12",md:"6",children:Object(v.jsxs)(z.a,{style:{height:"60vh",overflowY:"scroll"},children:[Object(v.jsxs)(z.a.Group,{className:"mb-3",children:[Object(v.jsx)(z.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(v.jsx)(z.a.Control,{type:"text"})]}),Object(v.jsxs)(z.a.Group,{className:"mb-3",children:[Object(v.jsx)(z.a.Label,{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(v.jsx)(z.a.Control,{as:"textarea",rows:"6"})]})]})}),Object(v.jsx)(D.a,{xs:"12",md:{span:5,offset:1},children:Object(v.jsxs)(We.a,{children:[Object(v.jsx)(We.a.Img,{variant:"top",height:"330",className:"bg-light",src:a.imgSrc}),Object(v.jsxs)(We.a.Body,{children:[Object(v.jsx)(We.a.Text,{children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(v.jsxs)("label",{className:"btn btn-primary",children:[Object(v.jsx)("input",{type:"file",style:{width:0,height:0,margin:0,padding:0},accept:"image/jpeg",onInput:function(e){n(oe(e.target.files[0]))}}),"\u0418\u043c\u0437\u0435\u043d\u0438\u0442\u044c"]})]})]})})]})}),Object(v.jsx)(ve.a,{eventKey:"fileds",title:"\u041f\u043e\u043b\u044f",disabled:!0,children:"\u041f\u043e\u043b\u044f"})]}),Object(v.jsxs)(q.a,{className:"mt-4 ps-4",children:[Object(v.jsx)(D.a,{children:Object(v.jsx)(N.a,{variant:"primary",children:"OK"})}),Object(v.jsx)(D.a,{className:"d-flex",children:Object(v.jsx)(d.b,{to:"/admin/categories",className:"mx-auto text-center",children:"\u041d\u0430\u0437\u0430\u0434 \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439..."})})]})]})},st=function(e){var t=e.header,a=e.body,n=e.link;return Object(v.jsx)(D.a,{children:Object(v.jsxs)(We.a,{border:"success",children:[Object(v.jsx)(We.a.Header,{children:t}),Object(v.jsx)(We.a.Body,{children:a}),Object(v.jsx)(We.a.Footer,{children:Object(v.jsx)(d.b,{to:n,children:"\u0414\u0435\u0442\u0430\u043b\u0438..."})})]})})},it=function(){return Object(v.jsx)(j.a,{className:"py-4",children:Object(v.jsxs)(q.a,{xs:1,md:3,className:"g-4 align-items-stretch",children:[Object(v.jsx)(st,{header:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",body:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u0434\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0445 \u043a \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u043e\u043c",link:"/admin/users"}),Object(v.jsx)(st,{header:"\u041f\u043e\u043b\u044f",body:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u0435\u0439 \u0442\u043e\u0432\u0430\u0440\u043e\u0432, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438",link:"/admin/fields"}),Object(v.jsx)(st,{header:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",body:"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432, \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",link:"/admin/categories"}),Object(v.jsx)(st,{header:"\u0422\u043e\u0432\u0430\u0440\u044b",body:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0445 \u0438\u0437\u0434\u0435\u043b\u0438\u044f\u0445, \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0430\u0445 \u0438 \u0446\u0435\u043d\u0430\u0445",link:"/admin/goods"})]})})},ot=Object(h.b)("fields/get-all",function(){var e=Object(_.a)(T.a.mark((function e(t,a){var n,c,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a.getState(),c=n.authState,e.next=4,X("/api/fields/get-all","GET",null,{Authorization:"Base ".concat(c.id)});case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.dispatch)(f({variant:"danger",text:e.t0.message})),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),lt=Object(h.b)("fields/save",function(){var e=Object(_.a)(T.a.mark((function e(t,a){var n,c,r,s,i,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a.getState(),c=n.authState,r=n.fieldsState,s=r.addedFields,i=r.removedFields,e.next=5,X("/api/fields/save","POST",{addedFields:s,removedFields:i},{Authorization:"Base ".concat(c.id)});case 5:return o=e.sent,e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(0),(0,a.dispatch)(f({variant:"danger",text:e.t0.message})),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()),dt=Object(h.c)({name:"fieldsSlice",initialState:{fields:[],addForm:{name:"",type:"number"},addedFields:[],removedFields:[],loading:!1},reducers:{addFormHandler:function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{addForm:Object(O.a)(Object(O.a)({},e.addForm),{},Object(A.a)({},a.field,a.value))})},addField:function(e){return Object(O.a)(Object(O.a)({},e),{},{addedFields:e.addedFields.concat(Object(O.a)({},e.addForm)),addForm:{name:"",type:"number"}})},removeField:function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{removedFields:e.removedFields.concat(a)})},cancelRemove:function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{removedFields:e.removedFields.filter((function(e){return e.toString()!==a.toString()}))})},cancelAdd:function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{addedFields:e.addedFields.filter((function(e,t){return t.toString()!==a.toString()}))})}},extraReducers:(r={},Object(A.a)(r,ot.pending,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!0})})),Object(A.a)(r,ot.fulfilled,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{fields:a,loading:!1})})),Object(A.a)(r,ot.rejected,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!1})})),Object(A.a)(r,lt.pending,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!0})})),Object(A.a)(r,lt.fulfilled,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{fields:a,loading:!1,addedFields:[],removedFields:[]})})),Object(A.a)(r,lt.rejected,(function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!1})})),r)}),jt=dt.actions,ut=jt.addFormHandler,bt=jt.addField,Ot=jt.removeField,ht=jt.cancelRemove,xt=jt.cancelAdd,mt=dt.reducer,pt=function(){var e=Object(b.c)((function(e){return e.fieldsState})),t=e.addForm,a=e.addedFields,n=e.fields,c=e.removedFields,r=e.loading,i=Object(b.b)(),o=function(e){i(ut({field:e.target.name,value:e.target.value}))},l=function(e){i(Ot(e.target.getAttribute("data-id")))},d=function(e){i(ht(e.target.getAttribute("data-id")))},u=function(e){i(xt(e.target.getAttribute("data-id")))};return Object(s.useEffect)((function(){i(ot())}),[i]),Object(v.jsxs)(j.a,{className:"py-4",children:[Object(v.jsx)("h3",{children:"\u041f\u043e\u043b\u044f"}),r&&Object(v.jsx)(q.a,{xs:1,md:3,className:"g-3 mb-3",children:new Array(9).fill(!0).map((function(e,t){return Object(v.jsx)(D.a,{children:Object(v.jsx)(de.a,{as:"p",animation:"glow",className:"m-0 p-0 rounded",children:Object(v.jsx)(de.a,{xs:12,className:"rounded p-4"})})},"ph_".concat(t))}))}),r&&Object(v.jsx)(de.a,{animation:"glow",children:Object(v.jsx)(de.a.Button,{xs:12,md:2})}),!r&&Object(v.jsxs)(V.a,{className:"mb-3",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"text-center",children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044f"}),Object(v.jsx)("th",{className:"text-center",children:"\u0422\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445"}),Object(v.jsx)("th",{className:"text-center",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})]})}),Object(v.jsxs)("tbody",{children:[n.map((function(e){var t=e._id,a=e.name,n=e.type,r=c.some((function(e){return e.toString()===t.toString()}));return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:r?"text-muted":"",children:a}),Object(v.jsx)("td",{className:r?"text-muted text-center":"text-center",children:[{key:"number",value:"\u0427\u0438\u0441\u043b\u043e\u0432\u043e\u0439"},{key:"text",value:"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439"}].filter((function(e){return e.key===n})).map((function(e){return Object(v.jsx)("span",{children:e.value},t+e.key)}))}),Object(v.jsx)("td",{className:"text-center",children:Object(v.jsx)(N.a,{size:"sm","data-id":t,variant:r?"success":"danger",onClick:r?d:l,children:r?Object(v.jsx)(v.Fragment,{children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"}):Object(v.jsx)(v.Fragment,{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})})]},t)})),a.map((function(e,t){var a=e.name,n=e.type;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:a}),Object(v.jsx)("td",{className:"text-center",children:[{key:"number",value:"\u0427\u0438\u0441\u043b\u043e\u0432\u043e\u0439"},{key:"text",value:"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439"}].filter((function(e){return e.key===n})).map((function(e){return Object(v.jsx)("span",{children:e.value},t+e.key)}))}),Object(v.jsx)("td",{className:"text-center",children:Object(v.jsx)(N.a,{variant:"secondary",size:"sm","data-id":t,onClick:u,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]},"key_".concat(t))}))]}),Object(v.jsx)("tfoot",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)(z.a.Control,{type:"text",placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",value:t.name,onChange:o,name:"name"})}),Object(v.jsx)("td",{children:Object(v.jsxs)(z.a.Select,{value:t.type,onChange:o,name:"type",children:[Object(v.jsx)("option",{value:"number",children:"\u0427\u0438\u0441\u043b\u043e\u0432\u043e\u0439"}),Object(v.jsx)("option",{value:"text",children:"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439"})]})}),Object(v.jsx)("td",{className:"text-center",children:Object(v.jsx)(N.a,{variant:"primary",size:"sm",onClick:function(){i(bt())},disabled:""===t.name,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435"})})]})})]}),!r&&Object(v.jsx)("div",{children:Object(v.jsx)(N.a,{variant:"primary",onClick:function(){i(lt())},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})};var ft=function(){var e=Object(b.c)((function(e){return e.authState})).id?Object(v.jsxs)(R.d,{children:[Object(v.jsx)(R.b,{path:"/admin/main",children:Object(v.jsx)(it,{})}),Object(v.jsx)(R.b,{path:"/admin/users",exact:!0,children:Object(v.jsx)(M,{})}),Object(v.jsx)(R.b,{path:"/admin/users/user",exact:!0,children:Object(v.jsx)(ct,{})}),Object(v.jsx)(R.b,{path:"/admin/users/user/:id",children:Object(v.jsx)(ct,{})}),Object(v.jsx)(R.b,{path:"/admin/fields",children:Object(v.jsx)(pt,{})}),Object(v.jsx)(R.b,{path:"/admin/categories",exact:!0,children:Object(v.jsx)(Ce,{})}),Object(v.jsx)(R.b,{path:"/admin/categories/category/:obj",children:Object(v.jsx)(rt,{})}),Object(v.jsx)(R.b,{path:"/admin/goods",children:Object(v.jsx)(at,{})}),Object(v.jsx)(R.a,{to:"/admin/main"})]}):Object(v.jsxs)(R.d,{children:[Object(v.jsx)(R.b,{path:"/admin/login",children:Object(v.jsx)(K,{})}),Object(v.jsx)(R.a,{to:"/admin/login"})]});return Object(v.jsxs)(d.a,{children:[Object(v.jsx)(y,{}),Object(v.jsx)(I,{}),e]})},gt=Object(h.a)({middleware:function(e){return e({serializableCheck:{ignoredActions:["categorySlice/setPhoto"]}})},reducer:{authState:E,alertState:g,categoriesState:le,fieldsState:mt,goodsState:Ye}});l.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(b.a,{store:gt,children:Object(v.jsx)(ft,{})})}),document.getElementById("root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.d453095a.chunk.js.map